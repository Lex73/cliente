{"ast":null,"code":"import _defineProperty from\"C:/Users/alstanley/Documents/GitHub/cliente/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:/Users/alstanley/Documents/GitHub/cliente/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/alstanley/Documents/GitHub/cliente/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import{Link}from'react-router-dom';import AlertaContext from'../../context/alertas/alertaContext';import AuthContext from'../../context/autenticacion/authContext';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var NuevaCuenta=function NuevaCuenta(props){// extraer los valores del context\nvar alertaContext=useContext(AlertaContext);var alerta=alertaContext.alerta,mostrarAlerta=alertaContext.mostrarAlerta;var authContext=useContext(AuthContext);var mensaje=authContext.mensaje,autenticado=authContext.autenticado,registrarUsuario=authContext.registrarUsuario;// En caso de que el usuario se haya autenticado o registrado o sea un registro duplicado\nuseEffect(function(){if(autenticado){props.history.push('/proyectos');}if(mensaje){mostrarAlerta(mensaje.msg,mensaje.categoria);}// eslint-disable-next-line\n},[mensaje,autenticado,props.history]);// State para iniciar sesión\nvar _useState=useState({nombre:'',email:'',password:'',confirmar:''}),_useState2=_slicedToArray(_useState,2),usuario=_useState2[0],guardarUsuario=_useState2[1];// extraer de usuario\nvar nombre=usuario.nombre,email=usuario.email,password=usuario.password,confirmar=usuario.confirmar;var onChange=function onChange(e){guardarUsuario(_objectSpread(_objectSpread({},usuario),{},_defineProperty({},e.target.name,e.target.value)));};// Cuando el usuario quiere iniciar sesión\nvar onSubmit=function onSubmit(e){e.preventDefault();// Validar que no haya campos vacios\nif(nombre.trim()===''||email.trim()===''||password.trim()===''||confirmar.trim()===''){mostrarAlerta('Todos los campos son obligatorios','alerta-error');return;}// Password minimo de 6 caracteres\nif(password.length<6){mostrarAlerta('El password debe ser de al menos 6 caracteres','alerta-error');return;}// Los 2 passwords son iguales\nif(password!==confirmar){mostrarAlerta('Los passwords no son iguales','alerta-error');return;}// Pasarlo al action\nregistrarUsuario({nombre:nombre,email:email,password:password});};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-usuario\",children:[alerta?/*#__PURE__*/_jsxs(\"div\",{className:\"alerta \".concat(alerta.categoria),children:[\" \",alerta.msg,\" \"]}):null,/*#__PURE__*/_jsxs(\"div\",{className:\"contenedor-form sombra-dark\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Obtener una cuenta\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nombre\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nombre\",name:\"nombre\",placeholder:\"Tu Nombre\",value:nombre,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",name:\"email\",placeholder:\"Tu Email\",value:email,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",placeholder:\"Tu Password\",value:password,onChange:onChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"campo-form\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"confirmar\",children:\"Confirmar Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"confirmar\",name:\"confirmar\",placeholder:\"Repite tu Password\",value:confirmar,onChange:onChange})]}),/*#__PURE__*/_jsx(\"div\",{className:\"campo-form\",children:/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primario btn-block\",value:\"Registrarme\"})})]}),/*#__PURE__*/_jsx(Link,{to:'/',className:\"enlace-cuenta\",children:\"Volver a Iniciar Sesi\\xF3n\"})]})]});};export default NuevaCuenta;","map":{"version":3,"sources":["C:/Users/alstanley/Documents/GitHub/cliente/src/components/auth/NuevaCuenta.js"],"names":["React","useState","useContext","useEffect","Link","AlertaContext","AuthContext","NuevaCuenta","props","alertaContext","alerta","mostrarAlerta","authContext","mensaje","autenticado","registrarUsuario","history","push","msg","categoria","nombre","email","password","confirmar","usuario","guardarUsuario","onChange","e","target","name","value","onSubmit","preventDefault","trim","length"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport AlertaContext from '../../context/alertas/alertaContext';\nimport AuthContext from '../../context/autenticacion/authContext';\n\nconst NuevaCuenta = (props) => {\n\n    // extraer los valores del context\n    const alertaContext = useContext(AlertaContext);\n    const { alerta, mostrarAlerta } = alertaContext;\n\n    const authContext = useContext(AuthContext);\n    const { mensaje, autenticado,  registrarUsuario } = authContext;\n\n    // En caso de que el usuario se haya autenticado o registrado o sea un registro duplicado\n    useEffect(() => {\n        if(autenticado) {\n            props.history.push('/proyectos');\n        }\n\n        if(mensaje) {\n            mostrarAlerta(mensaje.msg, mensaje.categoria);\n        }\n        // eslint-disable-next-line\n    }, [mensaje, autenticado, props.history]);\n\n    // State para iniciar sesión\n    const [usuario, guardarUsuario] = useState({\n        nombre: '',\n        email: '',\n        password: '',\n        confirmar: ''\n    });\n\n    // extraer de usuario\n    const { nombre, email, password, confirmar } = usuario;\n\n    const onChange = e => {\n        guardarUsuario({\n            ...usuario,\n            [e.target.name] : e.target.value\n        })\n    }\n\n    // Cuando el usuario quiere iniciar sesión\n    const onSubmit = e => {\n        e.preventDefault();\n\n        // Validar que no haya campos vacios\n        if( nombre.trim() === '' || \n            email.trim() === '' || \n            password.trim() === '' || \n            confirmar.trim() === '' ) {\n                mostrarAlerta('Todos los campos son obligatorios', 'alerta-error');\n                return;\n            }\n\n        // Password minimo de 6 caracteres\n        if(password.length < 6) {\n            mostrarAlerta('El password debe ser de al menos 6 caracteres', 'alerta-error');\n            return;\n        }\n\n        // Los 2 passwords son iguales\n        if(password !== confirmar) {\n            mostrarAlerta('Los passwords no son iguales', 'alerta-error');\n            return;\n        }\n\n        // Pasarlo al action\n        registrarUsuario({\n            nombre, \n            email, \n            password\n        });\n    }\n\n\n\n    return ( \n        <div className=\"form-usuario\">\n            { alerta ? ( <div className={`alerta ${alerta.categoria}`}> {alerta.msg} </div> )  : null }\n            <div className=\"contenedor-form sombra-dark\">\n                <h1>Obtener una cuenta</h1>\n\n                <form\n                    onSubmit={onSubmit}\n                >\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"nombre\">Nombre</label>\n                        <input \n                            type=\"text\"\n                            id=\"nombre\"\n                            name=\"nombre\"\n                            placeholder=\"Tu Nombre\"\n                            value={nombre}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"email\">Email</label>\n                        <input \n                            type=\"email\"\n                            id=\"email\"\n                            name=\"email\"\n                            placeholder=\"Tu Email\"\n                            value={email}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"password\">Password</label>\n                        <input \n                            type=\"password\"\n                            id=\"password\"\n                            name=\"password\"\n                            placeholder=\"Tu Password\"\n                            value={password}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <label htmlFor=\"confirmar\">Confirmar Password</label>\n                        <input \n                            type=\"password\"\n                            id=\"confirmar\"\n                            name=\"confirmar\"\n                            placeholder=\"Repite tu Password\"\n                            value={confirmar}\n                            onChange={onChange}\n                        />\n                    </div>\n\n                    <div className=\"campo-form\">\n                        <input type=\"submit\" className=\"btn btn-primario btn-block\" value=\"Registrarme\" />\n                    </div>\n                </form>\n\n                <Link to={'/'} className=\"enlace-cuenta\">\n                    Volver a Iniciar Sesión\n                </Link>\n            </div>\n        </div>\n     );\n}\n \nexport default NuevaCuenta;"]},"metadata":{},"sourceType":"module"}